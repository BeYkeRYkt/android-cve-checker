From 69f0a80b8cc1333647397d7bc4f267bd3fe22be9 Mon Sep 17 00:00:00 2001
From: Arun Menon <avmenon@codeaurora.org>
Date: Tue, 14 Jul 2015 21:38:27 -0700
Subject: msm: vidc: Fix out of bound read access

The bool variable disable_htw passed to iommu_domain_set_attr(),
gets typecasted to int before being read in arm_smmu_domain_set_attr().
This results in an out of bound read access. Fix this issue by
defining disable_htw as an int.

Change-Id: I78b52c0b8c29d41948a8d621dada8866d904156b
Signed-off-by: Arun Menon <avmenon@codeaurora.org>
---
 drivers/media/platform/msm/vidc/msm_vidc_res_parse.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/media/platform/msm/vidc/msm_vidc_res_parse.c b/drivers/media/platform/msm/vidc/msm_vidc_res_parse.c
index 82eebfe..df4f9fa 100644
--- a/drivers/media/platform/msm/vidc/msm_vidc_res_parse.c
+++ b/drivers/media/platform/msm/vidc/msm_vidc_res_parse.c
@@ -722,7 +722,7 @@ static int msm_vidc_setup_context_bank(struct context_bank_info *cb,
 		struct device *dev)
 {
 	int rc = 0;
-	bool disable_htw = true;
+	int disable_htw = 1;
 	int secure_vmid = VMID_INVAL;
 
 	if (!dev || !cb) {
-- 
cgit v1.1

