From 5d1c951ee0e3b06f96736eed25869bbfaf77efbc Mon Sep 17 00:00:00 2001
From: Lloyd Atkinson <latkinso@codeaurora.org>
Date: Fri, 26 May 2017 15:42:26 -0400
Subject: drm/msm/sde: use constant size array in sde_watchdog_te_status

Prevent out of bounds access when using sde_watchdog_te_status
structure by using a constantly sized array definition. This
matches the usage convention in the rest of the sde_hw modules.

Change-Id: I44a94cc23a9d87e14ec7f6d1c28b36899cce11bb
Signed-off-by: Lloyd Atkinson <latkinso@codeaurora.org>
---
 drivers/gpu/drm/msm/sde/sde_hw_top.h | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/drivers/gpu/drm/msm/sde/sde_hw_top.h b/drivers/gpu/drm/msm/sde/sde_hw_top.h
index 9cb4494..faf25c7 100644
--- a/drivers/gpu/drm/msm/sde/sde_hw_top.h
+++ b/drivers/gpu/drm/msm/sde/sde_hw_top.h
@@ -80,12 +80,12 @@ struct sde_danger_safe_status {
  * struct sde_watchdog_te_status - configure watchdog timer to generate TE
  * @pp_count: number of ping pongs active
  * @frame_rate: Display frame rate
- * @ppnumber: base address of ping pong info
+ * @ppnumber: ping pong index array
  */
 struct sde_watchdog_te_status {
 	u32 pp_count;
 	u32 frame_rate;
-	u32 ppnumber[];
+	u32 ppnumber[PINGPONG_MAX];
 };
 
 /**
-- 
cgit v1.1

